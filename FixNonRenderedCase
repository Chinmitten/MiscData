#fixes HubSpot Cases that were created without a pipeline stage and caused issues rendering the property views.
import requests

# Configuration
ACCESS_TOKEN = ''
OBJECT_TYPE = 'p20341965_cases'  # Replace with your custom object type ID
OBJECT_ID = '27249563801'  # Replace with the ID of the record you want to update
PIPELINE_ID = '10576221'  # Replace with your target pipeline ID
STAGE_ID = '1067990085'  # Replace with your target stage ID

# HubSpot API endpoint
url = f'https://api.hubapi.com/crm/v3/objects/{OBJECT_TYPE}/{OBJECT_ID}'


headers = {
    'Authorization': f'Bearer {ACCESS_TOKEN}',
    'Content-Type': 'application/json'
}

data = {
    "properties": {
        "hs_pipeline": PIPELINE_ID,
        "hs_pipeline_stage": STAGE_ID
    }
}

response = requests.patch(url, headers=headers, json=data)

if response.status_code == 200:
    print("Custom object updated successfully.")
else:
    print(f"Failed to update. Status code: {response.status_code}")
    print(response.json())
